<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{__${'layouts/intranet-layout-'+layoutMode}__}">
<head>
<title th:utext="#{page.tr.primary.singleapp.title}"></title>
<th:block th:replace="layout/base :: shared_css" />
<script th:inline="javascript">
        /*<![CDATA[*/
        var theTR = /*[[${refertr}]]*/;
        var theTrPrimApp = /*[[${referTrPrimApp}]]*/;
        var tfmList = /*[[${lpslist.get('TFM Liquid')}]]*/;
        var wpPercAIList = /*[[${refcodelist.get('WP_PERCAI').codeValues}]]*/;
        var ecPercAIList = /*[[${refcodelist.get('EC_PERCAI').codeValues}]]*/;
        /*]]>*/
    </script>
</head>
<body onload="loaderControl();">
	<th:block layout:fragment="content">
		<div class="container">
			<div class="row mrgn-tp-md mrgn-bttm-md mrgn-rght-sm">
				<div class="row col-sm-12">
					<p class="lead" th:utext="'<b>' + #{i18n.tr_title} + ' - ' + #{page.tr.primaryapp.title.singleapp} + '</b>'">
						Treatments - Single Primary Application</p>
				</div>
				<div class="wb-frmvld col-md-12">
					<form id="edit_form" class="form-horizontal" role="form">
						<div class="row brdr-bttm">
							<div class="row col-sm-12 mrgn-bttm-md">
								<div class="col-md-3 col-sm-4 mrgn-bttm-sm">
									<label>
										<span class="field-name" th:utext="#{i18n.sample_code_caption}">Sample ID</span>
									</label>
									<br/>
									<input type="text" class="input-sm" id="sampleCode"
										name="sampleCode"
										th:attr="value=${refertr != null} ? ${refertr.sample.sampleCode}"
										readonly="true" />
								</div>
								<div class="col-md-3 col-sm-4 mrgn-bttm-sm">
									<label for="sampleStatus">
										<span class="field-name" th:utext="#{i18n.sample_status_caption}">Status</span>
									</label>
									<br/>
									<input type="text" class="input-sm" id="sampleStatus"
										name="sampleStatus"
										th:attr="value=${refertr != null} ? ${refertr.sample.sampleStatus}"
										readonly="true">
								</div>
								<div class="col-md-3 col-sm-4 mrgn-bttm-sm">
									<label>
										<span class="field-name" th:utext="#{i18n.branchlentic_caption}">Branch/Lentic</span>
									</label>
									<br/>
									<input type="text" class="input-sm" id="branchLentic"
										name="branchLentic"
										th:attr="value=${referTrPrimApp != null} ? ${referTrPrimApp.branchLentic.showText}"
										readonly="true" />
								</div>
								<div class="col-md-3 col-sm-4 mrgn-bttm-sm">
									<label for="stationFrom">
										<span class="field-name" th:utext="#{i18n.stationfrom_caption}">Station From</span>
									</label>
									<br/>
									<input type="text" class="input-sm" id="stationFrom"
										name="stationFrom"
										th:attr="value=${referTrPrimApp != null} ? ${referTrPrimApp.stationFrom.showText}"
										readonly="true">
								</div>
								<div class="col-md-3 col-sm-4 mrgn-bttm-sm">
									<label>
										<span class="field-name" th:utext="#{i18n.tr_start_title}">Treatment Start</span>
									</label>
									<br/>
									<input type="text" class="input-sm" id="treatmentStart"
										   name="treatmentStart"
										   th:attr="value=${refertr != null} ? ${refertr.trLogistics.treatmentStart}"
										   readonly="true" />
								</div>
								<div class="col-md-3 col-sm-4 mrgn-bttm-sm">
									<label>
										<span class="field-name" th:utext="#{i18n.tr_end_title}">Treatment End</span>
									</label>
									<br/>
									<input type="text" class="input-sm" id="treatmentEnd"
										   name="treatmentEnd"
										   th:attr="value=${refertr != null} ? ${refertr.trLogistics.treatmentEnd}"
										   readonly="true" />
								</div>
							</div>
						</div>
						<div class="row brdr-bttm mrgn-tp-md">
							<div id="displayDateErrMessage"></div>
							<div class="row col-sm-12 mrgn-bttm-md">
								<div class="col-md-3 col-sm-6 mrgn-bttm-md">
									<label for="trStartDate" class="required">
										<span class="field-name" th:utext="#{i18n.start_date_title}">Treatment Start</span>
										<strong class="required" th:utext="#{form.required}">(required)</strong>
									</label>
									<br/>
									<input type="date" class="input-sm" id="trStartDate"
										name="trStartDate" required="required" />
								</div>

								<div class="col-md-3 col-sm-6 mrgn-bttm-md">
									<label for="trEndDate" class="required">
										<span class="field-name" th:utext="#{i18n.end_date_title}">Treatment End</span>
										<strong class="required" th:utext="#{form.required}">(required)</strong>
									</label>
									<br/>
									<input type="date" class="input-sm" id="trEndDate"
										name="trEndDate" required="required" />
								</div>
								<div class="col-md-3 col-sm-6">
									<label for="time_on" class="required">
										<span class="field-name" th:utext="#{i18n.tr_timeon_caption}">Time On</span>
										<strong class="required" th:utext="#{form.required}">(required)</strong>
									</label>
									<br/>
									<input type="text" class="input-sm" id="time_on"
										   name="time_on" maxlength="5" minlength="5"
										   placeholder="HH:mm(24h)" th:attr="data-msg-pattern=#{i18n.time_format_24h}" />
								</div>
								<div class="col-md-3 col-sm-6">
									<label for="time_off" class="required">
										<span class="field-name" th:utext="#{i18n.tr_timeoff_caption}">Time Off</span>
										<strong class="required" th:utext="#{form.required}">(required)</strong>
									</label>
									<br/>
									<input type="text" class="input-sm" id="time_off"
										name="time_off" maxlength="5" minlength="5"
									   placeholder="HH:mm(24h)" th:attr="data-msg-pattern=#{i18n.time_format_24h}" />
								</div>
							</div>

							<div class="col-sm-12">
								<div class="row col-md-5 col-sm-12 mrgn-bttm-sm">
									<label for="tr_duration">
										<span class="field-name" th:utext="#{i18n.tr_duration_caption}">Duration</span>
									</label>
									<br/>
									<input type="text" class="input-sm" id="tr_duration"
										name="tr_duration" readonly="true" /><label>&nbsp;hours:minutes</label>
								</div>
								<div class="row col-md-7 col-sm-12 mrgn-bttm-sm">
									<label for="app_code" class="required">
										<span class="field-name" th:utext="#{i18n.tr_appcode_caption}">Application Code</span>
										<strong class="required" th:utext="#{form.required}">(required)</strong>
									</label>
									<br/>
									<select class="input-sm" id="app_code"
										required="required"
										th:attr="name=${refcodelist.get('PRIMARY_APPLICATION_CODE').codeType}">
										<option value=""></option>
										<option
											th:each="entry : ${refcodelist.get('PRIMARY_APPLICATION_CODE').codeValues}"
											th:value="${entry.codeName}" th:utext="${entry.showText}"></option>
									</select>
								</div>
								<div class="row col-md-5 col-sm-12 mrgn-bttm-sm">
									<label for="app_method">
										<span class="field-name" th:utext="#{i18n.tr_appmethod_caption}">Application Method</span>
									</label>
									<br/>
									<select class="input-sm" id="app_method"
										th:attr="name=${refcodelist.get('PRIMARY_APPLICATION_METHOD').codeType}">
										<option value=""></option>
										<option
											th:each="entry : ${refcodelist.get('PRIMARY_APPLICATION_METHOD').codeValues}"
											th:value="${entry.codeName}" th:utext="${entry.showText}"></option>
									</select>
								</div>
								<div class="row col-md-7 col-sm-12 mrgn-bttm-sm">
									<label for="tr_location">
										<span class="field-name" th:utext="#{i18n.location_title}">Location</span>
									</label>
									<br/>
									<textarea id="tr_location" name="tr_location"
										class="input-sm" rows="2" cols="70" maxlength="250"></textarea>
								</div>
							</div>
							<div class="row col-sm-12">
								<div class="row col-sm-12 mrgn-bttm-sm mrgn-left-sm">
									<h5 class="remove_margin" th:utext="#{i18n.geolocation_title}" style="color: #6A5ACD">Geographic
										Location</h5>
								</div>

								<div class="col-sm-7 col-md-6 mrgn-bttm-sm">
									<label for="mapDatum">
										<span class="field-name" th:utext="#{i18n.datum_caption}">mapDatum</span>
									</label>
									<br/>
									<select
											class="input-sm" id="mapDatum"
											th:attr="name=${refcodelist.get('MAP_DATUM').codeType}">

										<option
												th:each="entry : ${refcodelist.get('MAP_DATUM').codeValues}"
												th:value="${entry.codeName}" th:utext="${entry.showText}"
												th:attr="selected=${entry.codeName == 'WGS-84'} ? true"></option>
									</select>
								</div>
								<div class="row col-sm-4 mrgn-bttm-sm">
									<label for="utmZone">
										<span class="field-name" th:utext="#{i18n.utmzone_title}">utmZone</span>
									</label>
									<br/>
									<select
											class="input-sm" id="utmZone"
											th:attr="name=${refcodelist.get('UTM_ZONE').codeType}">
										<option value="" th:utext="#{i18n.default.select}">Select
											One...</option>
										<option
												th:each="entry : ${refcodelist.get('UTM_ZONE').codeValues}"
												th:value="${entry.codeName}" th:utext="${entry.showText}"
												th:attr="selected=${entry.codeName == 'UTMZone15'} ? true"></option>
									</select>
								</div>

								<div class="row mrgn-tp-md">
									<div class="pad-left-col">
										<div class="form-inline">
											<div class="col-md-3 col-sm-6">
												<label for="utm_e01">
													<span class="field-name">1.UTM&nbsp;&nbsp;&nbsp;E</span>
												</label>
												<br/>
												<input type="text" class="input-sm" id="utm_e01" maxlength="6"
													   name="utm_e01" placeholder="" data-rule-number="true"
													   data-rule-range="[250000,750000]" />
											</div>
											<div class="col-md-3 col-sm-6">
												<label for="utm_n01">
													<span class="field-name">1.UTM&nbsp;&nbsp;&nbsp;N</span>
												</label>
												<br/>
												<input
														type="text" class="input-sm" id="utm_n01" maxlength="7"
														name="utm_n01" placeholder="" data-rule-number="true"
														data-rule-range="[4500000,5500000]" />
											</div>

											<div class="col-md-3 col-sm-6">
												<label for="utm_e02">
													<span class="field-name">2.UTM&nbsp;&nbsp;&nbsp;E</span>
												</label>
												<br/>
												<input type="text" class="input-sm" id="utm_e02" maxlength="6"
													   name="utm_e02" placeholder="" data-rule-number="true"
													   data-rule-range="[250000,750000]" />
											</div>
											<div class="col-md-3 col-sm-6">
												<label for="utm_n02">
													<span class="field-name">2.UTM&nbsp;&nbsp;&nbsp;N</span></label>
												<br/>
												<input
														type="text" class="input-sm" id="utm_n02" maxlength="7"
														name="utm_n02" placeholder="" data-rule-number="true"
														data-rule-range="[4500000,5500000]" />
											</div>
										</div>
									</div>
								</div>
								<div class="row mrgn-tp-md">
									<div class="pad-left-col">
										<div class="form-inline">
											<div class="col-md-3 col-sm-6">
												<label for="utm_e03">
													<span class="field-name">3.UTM&nbsp;&nbsp;&nbsp;E</span></label>
												<br/>
												<input type="text" class="input-sm" id="utm_e03" maxlength="6"
													   name="utm_e03" placeholder="" data-rule-number="true"
													   data-rule-range="[250000,750000]" />
											</div>
											<div class="col-md-3 col-sm-6">
												<label for="utm_n03">
													<span class="field-name">3.UTM&nbsp;&nbsp;&nbsp;N</span></label>
												<br/>
												<input
														type="text" class="input-sm" id="utm_n03" maxlength="7"
														name="utm_n03" placeholder="" data-rule-number="true"
														data-rule-range="[4500000,5500000]" />
											</div>

											<div class="col-md-3 col-sm-6">
												<label for="utm_e04">
													<span class="field-name">4.UTM&nbsp;&nbsp;&nbsp;E</span></label>
												<br/>
												<input type="text" class="input-sm" id="utm_e04" maxlength="6"
													   name="utm_e04" placeholder="" data-rule-number="true"
													   data-rule-range="[250000,750000]" />
											</div>
											<div class="col-md-3 col-sm-6">
												<label for="utm_n04">
													<span class="field-name">4.UTM&nbsp;&nbsp;&nbsp;N</span></label>
												<br/>
												<input
														type="text" class="input-sm" id="utm_n04" maxlength="7"
														name="utm_n04" placeholder="" data-rule-number="true"
														data-rule-range="[4500000,5500000]" />
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row col-sm-12">
								<div class="row col-sm-12 mrgn-tp-md mrgn-bttm-sm mrgn-left-sm">
									<h5 class="remove_margin" th:utext="#{i18n.tfm_title}" style="color: #6A5ACD">TFM</h5>
								</div>
								<table id="tfm_table" class="col-sm-12 mrgn-bttm-sm"
									style="width: 60%; border-collapse: separate; border-spacing: 0 5px">
									<thead>
										<th class="text-center"
											th:utext="#{i18n.batch_year_company_title}">Batch|Year|Company</th>
										<th class="text-center" th:utext="#{i18n.liters_used_title}">Liters
											Used</th>
										<th></th>
										<th></th>
									</thead>
									<tbody>
										<tr>
											<td class="text-center"><select class="input-sm"
												style="width: 100%" id="tfmlist" name="TFM_Liquid">
												<option value="" th:utext="#{i18n.default.select}"></option>
													<option th:each="entry : ${lpslist.get('TFM Liquid')}"
														th:value="${entry.id}" th:utext="${entry.showText}"></option>
											</select></td>
											<td class="text-center"><label for="#"></label><input type="text" class="input-sm" size="6"
												name="#" placeholder="" data-rule-number="true"
												min="0" max="9999999.99" maxlength="10" /></td>
											<td class="text-center icon"><a href="#" role="button"><span
													style="font-size: 1.3em;"
													class="glyphicon glyphicon-minus-sign"
													aria-hidden="true"></span></a></td>
											<td class="text-center icon"><a href="#" role="button"><span
													style="font-size: 1.3em;"
													class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span></a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
							<div class="row col-md-6 col-sm-12">
								<div class="row col-sm-12 mrgn-bttm-sm mrgn-left-sm">
									<h5 class="remove_margin" th:utext="#{i18n.wp_title}" style="color: #6A5ACD">Wettable
										Powder</h5>
								</div>
								<table id="wp_table" class="mrgn-bttm-md"
									style="width: 90%; border-collapse: separate; border-spacing: 0 5px">
									<thead>
										<th class="text-center" th:utext="#{i18n.kg_used_title}">kg
											Used</th>
										<th class="text-center" th:utext="#{i18n.percent_ai_title}">%
											A.I.</th>
										<th class="text-center" th:utext="#{i18n.kg_ai_title}">kg
											A.I.</th>
										<th></th>
										<th></th>
									</thead>
									<tbody>
										<tr>
											<td class="text-center"><label for="#"></label><input type="text" class="input-sm" size="6"
												name="#" placeholder="" data-rule-number="true"
												min="0" max="9999999.99" maxlength="10" /></td>
											<td class="text-center">
												<select class="input-sm" id="wp_percai" name="wp_percai">
													<option value=""></option>
													<option th:each="entry : ${refcodelist.get('WP_PERCAI').codeValues}"
														th:value="${entry.codeName}" th:utext="${entry.showText}"</option>
											</select></td>
											<td class="text-center"><input type="text" class="input-sm" size="6"
												name="#" placeholder="" readOnly="true" /></td>
											<td class="text-center icon"><a href="#" role="button"><span
													style="font-size: 1.3em;"
													class="glyphicon glyphicon-minus-sign"
													aria-hidden="true"></span></a></td>
											<td class="text-center icon"><a href="#" role="button"><span
													style="font-size: 1.3em;"
													class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span></a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
							<div class="row col-md-6 col-sm-12">
								<div class="row col-sm-12 mrgn-bttm-sm mrgn-left-sm">
									<h5 class="remove_margin" th:utext="#{i18n.ec_title}" style="color: #6A5ACD">Emulsifiable
										Concentrate</h5>
								</div>
								<table id="ec_table" class="mrgn-bttm-sm"
									style="width: 90%; border-collapse: separate; border-spacing: 0 5px">
									<thead>
										<th class="text-center" th:utext="#{i18n.liters_used_title}">Liters
											Used</th>
										<th class="text-center" th:utext="#{i18n.percent_ai_title}">%
											A.I.</th>
										<th class="text-center" th:utext="#{i18n.kg_ai_title}">kg
											A.I.</th>
										<th></th>
										<th></th>
									</thead>
									<tbody>
										<tr>
											<td class="text-center"><label for="#"></label><input type="text" class="input-sm" size="6"
												name="#" placeholder="" data-rule-number="true"
												min="0" max="9999999.99" maxlength="10" /></td>
											<td class="text-center"><select
												class="input-sm" id="ec_percai" name="ec_percai">
													<option value=""></option>
													<option
														th:each="entry : ${refcodelist.get('EC_PERCAI').codeValues}"
														th:value="${entry.codeName}" th:utext="${entry.showText}"</option>
											</select></td>
											<td class="text-center"><input type="text" class="input-sm" size="6"
												name="#" placeholder="" readOnly="true" /></td>
											<td class="text-center icon"><a href="#" role="button"><span
													style="font-size: 1.3em;"
													class="glyphicon glyphicon-minus-sign"
													aria-hidden="true"></span></a></td>
											<td class="text-center icon"><a href="#" role="button"><span
													style="font-size: 1.3em;"
													class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span></a>
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</form>
				</div>
			</div>
			<div id="displayMessage"></div>
			<div class="row pull-left mrgn-tp-md mrgn-left-lg mrgn-bttm-sm">
				<button id="button_save" type="button"
					class="btn btn-success mrgn-left-lg mrgn-rght-sm"
					th:utext="#{i18n.button_save_caption}" th:disabled="${not __${T(ca.gc.dfo.slims.config.SecurityHelper).TH_EL('EL_MODIFY_TREATMENTS')}__}">Save</button>

				<button id="button_return_summary" type="button"
					class="btn btn-primary mrgn-lft-sm mrgn-rght-sm"
					th:utext="#{i18n.button_return_summary_caption}">Reture to
					Summary</button>
			</div>
			<div th:replace="layout/base :: shared_controls" />
		</div>
	</th:block>
	<!-- 	Global Layout JS -->
	<th:block layout:fragment="scripts">
		
		<script th:src="@{/js/commonapp.js}" type="text/javascript"></script>
		<script th:src="@{/js/treatments/singleprimaryapp.js}"></script>
	</th:block>
</body>
</html>